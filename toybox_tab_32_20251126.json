[
  {
    "productCode": "10933999",
    "title": "에스에이엠지 미니특공대 7 다이노엠페러(30387)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 2880,
    "wholesalePriceKRW": "120000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050004212.jpg?1761091593",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-369.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10933999&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Zml3UQ%3D%3D&et_job=et_1764122089758_78oy8",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:54:53.476Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10932419",
    "title": "에스에이엠지 미니특공대 7 다이노커맨더(30394)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 2693,
    "wholesalePriceKRW": "112200",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003862.jpg?1755577702",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-333.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10932419&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bmx6W10%3D&et_job=et_1764122094009_eh920",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:54:56.467Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10929989",
    "title": "에스에이엠지 미니특공대 타이달샤크(30431)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003612.jpg?1753774728",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-307.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10929989&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=a2t3Uw%3D%3D&et_job=et_1764122096987_7ora0",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:01.469Z"
  },
  {
    "productCode": "10929988",
    "title": "에스에이엠지 미니특공대 스톰테라(30479)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003602.jpg?1753774728",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-306.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10929988&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bm9%2BW18%3D&et_job=et_1764122101983_krm2r",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:04.472Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10929987",
    "title": "에스에이엠지 미니특공대 버스터기가(30424)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003592.jpg?1753774728",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-305.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10929987&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bmt8W1g%3D&et_job=et_1764122104997_9rfe2",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:07.473Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10927256",
    "title": "에스에이엠지 미니특공대 렉스카이저(30400)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 1728,
    "wholesalePriceKRW": "72000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003432.jpg?1753774723",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-285.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10927256&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Z253VA%3D%3D&et_job=et_1764122108001_801nm",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:10.474Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10927255",
    "title": "에스에이엠지 미니특공대 마그킬로(30462)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 648,
    "wholesalePriceKRW": "27000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003422.jpg?1753774723"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10927255&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aGt3Vw%3D%3D&et_job=et_1764122111004_skl3u",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:13.477Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10927254",
    "title": "에스에이엠지 미니특공대 프로즌타이거(30455)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 648,
    "wholesalePriceKRW": "27000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003412.jpg?1753774723",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-284.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10927254&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=amh3Vg%3D%3D&et_job=et_1764122114018_5vv3g",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:19.470Z"
  },
  {
    "productCode": "10927174",
    "title": "에스에이엠지 미니특공대 버닝케라(30448)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 648,
    "wholesalePriceKRW": "27000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003402.jpg?1753774723",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-282.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10927174&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aWZ3WQ%3D%3D&et_job=et_1764122120015_p5923",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:22.468Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "10927173",
    "title": "에스에이엠지 미니특공대 썬더티라(30417)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 648,
    "wholesalePriceKRW": "27000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050003392.jpg?1753774723",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-281.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=10927173&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Z213WA%3D%3D&et_job=et_1764122123004_fp931",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:27.474Z"
  },
  {
    "productCode": "1817968",
    "title": "에스에이엠지 미니특공대 픽셀 새미봇(49480)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 691,
    "wholesalePriceKRW": "28800",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002962.jpg?1753774705",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-234.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817968&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Z2l3UFw%3D&et_job=et_1764122128004_toczn",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:30.501Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "1817967",
    "title": "에스에이엠지 미니특공대 픽셀 볼트봇(49473)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 634,
    "wholesalePriceKRW": "26400",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002952.jpg?1753774705",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-233.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817967&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bWh3UF0%3D&et_job=et_1764122131038_q63ui",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:35.483Z"
  },
  {
    "productCode": "1817966",
    "title": "에스에이엠지 미니특공대 픽셀 루시봇(49497)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 634,
    "wholesalePriceKRW": "26400",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002942.jpg?1753774705",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-235.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817966&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Zml3UF4%3D&et_job=et_1764122136010_1w0np",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:38.504Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "1817965",
    "title": "에스에이엠지 미니특공대 픽셀 맥스봇(49503)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 691,
    "wholesalePriceKRW": "28800",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002932.jpg?1753774705",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-236.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817965&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aGd3UF8%3D&et_job=et_1764122139032_yq6ra",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:42.466Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "1817964",
    "title": "에스에이엠지 미니특공대 픽셀 하이퍼킹(49510)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 2304,
    "wholesalePriceKRW": "96000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002922.jpg?1753774706",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-237.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817964&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Z2h3UFg%3D&et_job=et_1764122142996_1rbmc",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:48.478Z"
  },
  {
    "productCode": "1817963",
    "title": "에스에이엠지 미니특공대 저스티스타이탄 블랙에디션(49558)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 2808,
    "wholesalePriceKRW": "117000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002912.jpg?1753774706",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-238.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1817963&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=a293UFk%3D&et_job=et_1764122149002_aj7vn",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:53.474Z"
  },
  {
    "productCode": "1816829",
    "title": "토이트론 미니특공대 브이레인저스 FB 지나브이앤지나윙브이(33398)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 684,
    "wholesalePriceKRW": "28500",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010590005602.jpg?1718858712",
      "https://toytop.godohosting.com/koreatoys/TOYTRON/tr-532.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816829&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bmp1W11C&et_job=et_1764122154007_w8hu9",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:55:59.474Z"
  },
  {
    "productCode": "1816826",
    "title": "토이트론 미니특공대브이레인저스 합체무기 브이다이노액스(33305)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 752,
    "wholesalePriceKRW": "31350",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010590005572.jpg?1718848282",
      "https://toytop.godohosting.com/koreatoys/TOYTRON/tr-528.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816826&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bm11W11D&et_job=et_1764122160007_f4qn7",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:04.473Z"
  },
  {
    "productCode": "1816744",
    "title": "위니코니 미니특공대 비치볼40(33350)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 132,
    "wholesalePriceKRW": "5500",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010810001872.jpg?1744962725",
      "https://toytop.godohosting.com/koreatoys/WINNIECONNIE/wi-135.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816744&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bmx9W11M&et_job=et_1764122164995_cr7rm",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:09.478Z"
  },
  {
    "productCode": "1816412",
    "title": "위니코니 미니특공대 배낭물총(37945)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 238,
    "wholesalePriceKRW": "9900",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010810001652.jpg?1744962725",
      "https://toytop.godohosting.com/koreatoys/WINNIECONNIE/wi-123.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816412&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bml0W11N&et_job=et_1764122170001_av2gq",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:14.464Z"
  },
  {
    "productCode": "1816162",
    "title": "에스에이엠지 미니특공대 볼트변신세트(44157)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002222.jpg?1753774692",
      "https://toytop.godohosting.com/toytopbtb/SAMG/sa-71.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816162&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Zmx3U1w%3D&et_job=et_1764122174989_j7j45",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:19.475Z"
  },
  {
    "productCode": "1816160",
    "title": "에스에이엠지 미니특공대 스톰 체이서(44119)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002202.jpg?1753774693",
      "https://toytop.godohosting.com/toytopbtb/SAMG/sa-68.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816160&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aGt3U10%3D&et_job=et_1764122179997_2qou8",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:24.463Z"
  },
  {
    "productCode": "1816159",
    "title": "에스에이엠지 미니특공대 메가 파이어캅(44225)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002192.jpg?1753774693",
      "https://toytop.godohosting.com/toytopbtb/SAMG/sa-67.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816159&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aWp3U14%3D&et_job=et_1764122184987_kp6bu",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:29.466Z"
  },
  {
    "productCode": "1816158",
    "title": "에스에이엠지 미니특공대 메가 패트롤캅(44218)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 792,
    "wholesalePriceKRW": "33000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050002182.jpg?1753774693",
      "https://toytop.godohosting.com/toytopbtb/SAMG/sa-66.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1816158&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=amp3U18%3D&et_job=et_1764122189995_vi2gr",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:34.463Z"
  },
  {
    "productCode": "1815360",
    "title": "에스에이엠지 미니특공대 6 캡틴 커맨더(44126)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 1728,
    "wholesalePriceKRW": "72000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001862.jpg?1753774693",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-130.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815360&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=aGV%2FVQ%3D%3D&et_job=et_1764122194996_opiy0",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:39.469Z"
  },
  {
    "productCode": "1815230",
    "title": "에스에이엠지 미니특공대 6 패트롤 매그넘(44140)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 835,
    "wholesalePriceKRW": "34800",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001822.jpg?1753774693",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-125.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815230&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bm97W15B&et_job=et_1764122200001_ecjuw",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:42.476Z",
    "apiData": [
      {
        "kind": "xhr",
        "url": "https://app.malltail.com/global_shopping/api.php",
        "status": 200,
        "data": {
          "status": "success",
          "data": {
            "css": "@charset \"utf-8\"; /*----------------------------------------------------------------------------reset css----------------------------------------------------------------------------*/\n\n@font-face { font-family: \"Pretendard\"; font-weight: 700; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Bold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 600; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-SemiBold.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 500; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Medium.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 400; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Regular.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 300; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Light.woff2\"); } \n@font-face { font-family: \"Pretendard\"; font-weight: 100; font-display: swap; src: url(\"//cdn.malltail.com/goods_imgfonts/Pretendard/Pretendard-Thin.woff2\"); } \n\nhtml, body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, img { margin: 0; padding: 0; } \nhtml { width: 100%; height: 100%; font-size:62.5% } \nbody, button, pre { color: #000; font-size: 14px; line-height: 1.25; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \nh1, h2, h3, h4, h5, h6 { font-weight: normal; font-size:14px; } \nimg, fieldset { border: 0 none; } \nimg { vertical-align: top; max-width: 100%; } \nli { list-style: none; } \nhr, caption, legend { display: none; } \na { color: #000; text-decoration: none; outline: none; } \nbutton { cursor: pointer; background-color: #fff; border:none; outline: none; padding:0; } \naddress, em { font-style: normal; } \ninput, select, textarea { color: #000; line-height: 1.25; font-size:14px; } \nselect { position: relative; font-size:14px; } \ntable { width: 100%; border-collapse: collapse; border-spacing: 0; table-layout: auto; word-wrap: break-word; word-break: keep-all; } \ntable img { vertical-align: middle; } \n.chk-rdo { width: 14px; height: 14px; vertical-align:-3px } \n.blind { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n.ir * { position: absolute; overflow: hidden; width: 0; height: 0; font-size: 0; line-height: 0; visibility: hidden; color: transparent; } \n* { box-sizing: border-box; } \n\n/* who307 250602 */\n\n/* base */\n#malltail-global-shopping { font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; line-height: 1.5; font-size:14px; position: relative; color:#000; } \n#malltail-global-shopping * { box-sizing: border-box; } \n.scroll-hidden { overflow: hidden; } \n.g-shopping-textarea-wrap { padding: 13px 5px 14px 14px; height: 74px; background-color: #fff; border-radius: 5px; } \n.g-shopping-textarea { width:100%; resize:none; border-radius: 5px; line-height: 1.5; border: none; font-size: 16px; font-weight: 400; outline: none; color: rgb(0, 0, 0); position: relative; font-family: \"Pretendard\"; } \n.g-shopping-textarea::placeholder { color:#999; } \n.g-shopping-textarea::-webkit-scrollbar { width: 15px; } \n.g-shopping-textarea::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-select { width: 100%; height: 50px; font-size:14px; border: none; border-radius: 5px; padding-left: 14px; padding-right: 46px; position: relative; outline: none; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_expand_more.svg); background-color:#fff; background-size: 22px; background-repeat: no-repeat; background-position: calc(100% - 14px); appearance: none; -moz-appearance: none; -webkit-appearance: none; -moz-border-radius: 0; } \n.g-shopping-select--bg-gray { background-color:#F7F7F9; } \n.label-required { position: relative; display: inline-block; padding-right:9px; } \n.label-required::after { content: \"*\"; position: absolute; right: 0; top: 0; color: #FF0000; } \n\n/* g-shopping-dropmenu */\n.g-shopping-dropdown { position: relative; font-weight: 400; font-size: 16px; } \n.g-shopping-dropdown__selected { position: relative; padding: 4px 28px 4px 4px; color: #111; background-color: #F7F7F9; box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.05); border-radius: 5px; display: flex; align-items: center; height: 30px; cursor: pointer; gap: 4px; } \n.g-shopping-dropdown__selected::after { content: \"\"; width: 22px; height: 22px; right: 4px; position: absolute; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/dropdown_arrow_D.svg) 50% no-repeat; } \n.g-shopping-dropdown__selected--active::after { transform: scaleY(-1) } \n.g-shopping-dropdown__selected--active + .g-shopping-dropdown__list { display: block; } \n.g-shopping-dropdown__list { display: none; box-shadow: 0px 8px 16px 0px #00000014; border-radius: 10px; border: 1px solid #E0E0E0; background-color: #fff; position: absolute; width: max-content; max-height: 90px; top: 30px; z-index: 2; overflow: auto; padding: 6px; } \n.g-shopping-dropdown__list::-webkit-scrollbar { width: 15px; } \n.g-shopping-dropdown__list::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n.g-shopping-dropdown__item { min-height: 34px; cursor: pointer; border-radius: 5px; padding: 6px 14px 6px 10px; display: flex; gap: 4px; } \n.g-shopping-dropdown__item--selected { background-color : #F2F3F5; } \n.g-shopping-dropdown__text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } \n\n.g-product-price-container { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-box { display: flex; align-items: center; gap: 0 10px; flex-wrap: wrap; } \n.g-product-price-label { background-color: #FFE9E7; border-radius: 5px; color: #FF4330; display: inline-flex; align-items: center; justify-content: center; line-height: 1; height: 32px; padding: 0 10px; } \n.g-product-price { color: #666; font-size: 16px; font-weight: 500; text-align: right; } \n.g-product-price--highlight { font-size: 20px; color: #000; font-weight: 700; } \n.g-product-price-unit { font-size: 16px; vertical-align: 1px; } \n\n/* buttons */\n.g-shopping-buttons { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; } \n.g-shopping-button { width:100%; position: relative; font-size: 16px; line-height: 1; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; padding: 0 10px; border-radius: 5px; height:50px; word-break: break-all; } \n.g-shopping-button--bd-gray { border : 1px solid #ccc; } \n.g-shopping-button--bd-blue { border : 1px solid #2276FC; } \n.g-shopping-button--bg-blue { background-color:#2276FC; color:#fff; } \n.g-shopping-button--disabled { background-color:#eee; color:#999; cursor: context-menu; } \n.g-shopping-button--size-sm { width:50px; } \n.g-shopping-button--size-md { width:100px; } \n.g-shopping-button--size-lg { width:200px; } \n.g-shopping-button--size-fit { width:fit-content; word-break: keep-all;} \n.g-shopping-button--cursor-init { cursor: initial; } \n\n/* icons */\n.cart-icon { width: 24px; height: 24px; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_cart_icon.svg); background-size:contain; background-position: center; background-repeat: no-repeat; } \n.cart-icon--sm { width:22px; height:22px; } \n.cart-icon--lg { width:36px; height:36px; } \n.cart-count { font-weight: 600; font-size: 10px; color: #fff; background-color: #FF4330; border-radius: 100%; width: 14px; height: 14px; position: absolute; right: -5px; top: -6px; line-height: 14px; } \n.arrow-bottom-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow.svg); display: inline-block; } \n.arrow-bottom-white-icon { width:16px; height:16px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_banner_arrow_white.svg); display: inline-block } \n.airplane-icon { width:36px; height:36px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_airplane_icon.svg); display: inline-block; } \n.info-icon { width:18px; height:18px; background-image:url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_info_icon.svg); display: inline-block; } \n.flag-kr-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_kr_D.svg); } \n.flag-us-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_us_D.svg); } \n.flag-jp-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_jp_D.svg); } \n.flag-cn-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_cn_D.svg); } \n.flag-tw-icon { display : inline-block; width:22px; height:22px; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/flag_tw_D.svg); } \n\n/* links */\n.g-shopping-links { color:#111; display:flex; align-items: center; flex-wrap: wrap; } \n.g-shopping-links__item { vertical-align: 0px; color: inherit; position: relative; padding-right: 16px; } \n.g-shopping-links__item::after { content: \"\"; width: 2px; height: 2px; border-radius: 99px; display: inline-block; position: absolute; right: 7px; top: 10px; background-color: #111; } \n.g-shopping-links__item:last-of-type::after { display:none; } \n\n/* g-shopping-toggle-button */\n.g-shopping-toggle-button { position: relative; width: 30px; height: 18px; border-radius: 50px; overflow: hidden; } \n.g-shopping-toggle-button__label { width: 100%; position: absolute; left: 0; top: 0; bottom: 0; right: 0; z-index: 1; cursor: pointer; background-color: #999; } \n.g-shopping-toggle-button__icon { width: 100%; height: 100%; background-color: #999; display: block; transition: all .3s; } \n.g-shopping-toggle-button__icon::after { content: \"\"; width: 14px; height: 14px; border-radius: 100%; background-color: #fff; position: absolute; left: 2px; top: 2px; transition: inherit; } \n.g-shopping-toggle-button__input { display: none; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon { background-color:#2276FC; } \n.g-shopping-toggle-button__input:checked ~ .g-shopping-toggle-button__icon::after { left: 14px; } \n\n/* global-shopping-title */\n.global-shopping-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 6px; position: relative; padding-right: 24px; } \n.global-shopping-logo { width: 109px; height: 25px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_logo.svg); background-repeat: no-repeat; } \n.global-shopping-close { width: 26px; height: 26px; display: block; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 0; top: 0; } \n\n/* global-shopping-bg */\n.global-shopping-bg { background-color: rgba(0,0,0,.5); position: fixed; left:0; right:0; top:0; bottom:0; width: 100%; height: 100%; transition: opacity .5s; z-index: 999999998; } \n.global-shopping-bg--hide { opacity: 0; position: static; } \n\n/* g-shopping-banner */\n.g-shopping-banner { background-color: #fff; width: 100%; position: fixed; z-index: 999999997; bottom: 0; left: 0; transition: bottom .5s; } \n.g-shopping-banner__container { padding: 20px 330px 20px 20px; display: flex; flex-direction: column; gap: 10px; width: 100%; background-color: #fff; box-shadow: 0px 8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner--hide { background-color: transparent; bottom: -50%; z-index: 99999996; } \n.g-shopping-banner__button { color: #fff; font-size: 16px; font-weight: 500; display: flex; align-items: center; gap: 2px; position: absolute; right: 0; top: -33px; height: 32px; background-color: #999; padding: 0 10px; border-top-left-radius: 5px; border-top-right-radius: 5px; } \n.g-shopping-banner__title { font-weight: 700; font-size: 18px; } \n.g-shopping-banner__title br { display: none; } \n.g-shopping-banner__sub-title { color: #666; } \n.g-shopping-banner__link { vertical-align: 0px; color: inherit; } \n.g-shopping-banner__link--highlight { font-weight: 700; text-decoration: underline; text-underline-offset: 4px; } \n.g-shopping-banner__layout { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); } \n\n.g-shopping-banner__minimize { position: fixed; left: 0; bottom: 50%; transform: translateY(50%); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 4px; color: #2276FC; min-width: 50px; max-width: 80px; min-height: 50px; display: none; cursor: pointer; z-index: 999999999; padding: 0 7px; text-align: center; border-radius: 0 5px 5px 0; border-top: 1px solid #E0E0E0; border-bottom: 1px solid #E0E0E0; border-right: 1px solid #E0E0E0; background-color: #FFF; box-shadow: -2px 2px 4px 0px rgba(0, 0, 0, 0.04); font-weight: 500; font-size: 0px; } \n\n/* g-shopping-cart-banner */\n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { background-color:transparent; } \n.g-shopping-cart-banner .g-shopping-banner__container { position: relative; max-width: 1200px; margin: 0 auto; } \n\n/* global-shopping-modal */\n.global-shopping-modal { width:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); display: flex; align-items: center; justify-content: center; max-height: 0; overflow: hidden; } \n.global-shopping-modal--open { max-height: 100%; z-index: 999999999; overflow: visible; } \n.global-shopping-modal__container { box-shadow: 0px 8px 16px 0px #00000014; border-radius: 20px; background-color: #fff; display: flex; flex-direction: column; gap: 20px; opacity: 0; margin-bottom: -50px; max-height: 0; max-width: 100%; padding:30px; } \n.global-shopping-modal--open .global-shopping-modal__container { margin-bottom: 0; opacity: 1; max-height: 100%; transition: opacity .5s ease, margin-bottom .5s ease; } \n.global-shopping-modal__container--guide { padding:20px; } \n.global-shopping-modal__header { display: flex; flex-direction: column; gap:10px; } \n.global-shopping-modal__body { max-height: calc(100vh - 185px); overflow: auto; min-width: 320px; } \n.global-shopping-modal__body::-webkit-scrollbar { width: 15px; } \n.global-shopping-modal__body::-webkit-scrollbar-thumb { border-radius: 5px; background: #ccc; background-clip: padding-box; border: 5px solid transparent; border-radius: 10px; } \n\n/* .g-shopping-cookie */\n.g-shopping-cookie-banner { z-index: 999999999; } \n.g-shopping-cookie__container { max-width:540px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-cookie__title { font-size:18px; font-weight: 700; } \n.g-shopping-cookie__desc { margin-top: 6px; margin-bottom: 20px; color:#666; } \n\n.g-shopping-accordion__list { border: 1px solid #E0E0E0; margin-top: 10px; } \n.g-shopping-accordion__item { display: flex; flex-direction: column; padding: 16px; border-bottom: 1px solid #E0E0E0; } \n.g-shopping-accordion__item:last-of-type { border-bottom: none; } \n.g-shopping-accordion__header { display: flex; align-items: center; justify-content: space-between; } \n.g-shopping-accordion__text { cursor: context-menu; } \n.g-shopping-accordion__body { max-height: 0; overflow: hidden; transition: max-height 0.5s ease; } \n.g-shopping-accordion__body-inner { padding: 12px; margin-top: 10px; background-color: #F8F8F8; border-radius: 5px; } \n.g-shopping-accordion__header--expand ~.g-shopping-accordion__body { max-height: 500px; } \n.g-shopping-accordion__header--expand .arrow-bottom-icon { transform: scaleY(-1); } \n.g-shopping-accordion__button { line-height: 1.5; display: flex; align-items: center; gap: 6px; font-weight: 500; } \n\n.g-shopping-cookie__footer { display: flex; justify-content: flex-end; } \n\n/* g-shopping-guide */\n.g-shopping-guide__container { text-align: center; display: flex; flex-direction: column; gap: 6px; } \n.g-shopping-guide__title { font-size: 16px; font-weight: 700; } \n.g-shopping-guide .g-shopping-buttons { margin-top:20px; } \n.g-shopping-guide .g-shopping-button { width:123px; } \n\n/* g-shopping-usage */\n.g-shopping-usage__container { max-width: 540px; display: flex; flex-direction: column; gap:20px; } \n.g-shopping-usage__step { padding: 20px; border: 1px solid #E0E0E0; border-radius: 10px; display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-usage__title { font-size: 16px; font-weight: 700; padding-left: 28px; position: relative; } \n.g-shopping-usage__num { width: 22px; height: 22px; background-color: #000; border-radius: 100%; font-weight: 700; color: #fff; position: absolute; left: 0; top: 1px; text-align: center; line-height: 21px; } \n.g-shopping-usage__notice { color: #FF4330; font-size: 14px; font-weight: 400; margin-top: 10px; padding-left: 15px; position: relative; } p.g-shopping-usage__notice::before { content: \"※\"; position: absolute; left: 0; top: 0; } \n.g-shopping-usage__photo { border-radius: 10px; max-width: 244px; height: 150px; margin: 0 auto; } \n.g-shopping-usage__desc { color: #666; } \n\n/* g-shopping-cart */\n.g-shopping-cart__container { max-width: 740px; } \n\n/* g-product-card */\n.g-product-card__container { display: flex; align-items: flex-start; justify-content: center; gap: 20px; } \n.g-product-card__details { flex: 1 360px; min-width: 360px; position: sticky; top: 0; } \n.g-product-card__img-box { border-radius: 5px; overflow: hidden; border: 1px solid #E0E0E0; aspect-ratio: 400/ 353; display: flex; justify-content: center; align-items: center; } \n.g-product-card__img { max-width: 100%; } \n.g-product-card__name-label { margin-top: 10px; font-weight: 700; font-size: 18px; } \n.g-product-card__name { color: #666; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; margin-bottom: 20px; } \n.g-product-card__opt { flex: 1 1 360px; min-width: 260px; } \n.g-product-card__opt-container { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-container-title { background-color: #F7F7F9; padding: 10px 20px; display: flex; flex-direction: column; justify-content: space-between; gap:20px; overflow: auto; } \n.g-product-card__opt-container-title:first-of-type { padding-top: 20px; } \n.g-product-card__opt-container-title:last-of-type { padding-bottom: 20px; } \n.g-product-card__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-product-card__opt-list--gap-sm { gap:10px; } \n.g-product-card__opt-item { display: flex; flex-direction: column; gap: 10px; } \n.g-product-card__opt-item--row { align-items: center; flex-direction: row; gap: 8px; } \n.g-product-card__opt-item--row .g-product-card__opt-label { height: fit-content; flex:0 60px; } \n.g-product-card__opt-item--row .g-product-card__input-box { flex: 1; } \n.g-product-card__opt-item--row--hidden { display:none; }\n.g-product-card__opt-label { font-size: 16px; font-weight: 600; width: fit-content; } \n.g-product-card__opt-accordion {max-height: 0;overflow: hidden;transition: max-height 0.3s;}\n.g-product-card__opt-accordion--expand {max-height: none;}\n.g-product-card__opt-accordion-btn {display: block;width: 100%;background: linear-gradient(90deg, #4f8cff 0%, #6ad1ff 100%);color: #fff;font-size: 16px;font-weight: 600;padding: 12px 0;border: none;border-radius: 6px;box-shadow: 0 2px 8px rgba(79,140,255,0.08);cursor: pointer;transition: background 0.2s, box-shadow 0.2s;margin-bottom: 10px;letter-spacing: 1px;}\n.g-product-card__opt-accordion-btn:hover {background: linear-gradient(90deg, #357ae8 0%, #4f8cff 100%);box-shadow: 0 4px 16px rgba(79,140,255,0.15);}\n.g-product-card__opt-accordion-spinner {display:inline-block;width:14px;height:14px;border:2px solid rgba(0,0,0,0.2);border-top-color:rgba(0,0,0,0.6);border-radius:50%;animation:spin 0.8s linear infinite;vertical-align:middle;margin-right:5px;}\n.g-product-card__desc-box { color: #666; } \n.g-product-card__desc { padding-left: 11px; position: relative; } \n.g-product-card__desc::before { content: \"*\"; color: #666; position: absolute; left: 0; top: 1px; } \n.g-product-card .g-shopping-button { position: sticky; bottom: 0; margin-top: 20px; } \n\n/* g-shopping-unavailable */\n.g-shopping-unavailable__container { width: 740px; max-width: 740px; text-align: center; } \n.g-shopping-unavailable__title { font-size: 18px; font-weight: 700; padding: 50px 0 31px; } \n.g-shopping-unavailable__message { color: #666; padding: 50px 0 156px; margin-top: 42px; } \n\n/* g-product-colors */\n.g-product-colors { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; } \n.g-product-colors__item { position: relative; color: #666; font-size: 14px; line-height: 1; } \n.g-product-colors__chip { display: block; width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 1px solid #E0E0E0; } \n.g-product-colors__input { position: absolute; opacity: 0; } \n.g-product-colors__input:checked ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:checked ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #666; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { cursor: no-drop; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::after { content: \"\"; width: 2px; height: 32px; background-color: #fff; position: absolute; transform: rotate(-45deg); left: 14px; top: -1px; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip { border: 3px solid #fff; } \n.g-product-colors__input:disabled ~ .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; border: 1px solid #ccc; position: absolute; left: 0; top: 0; box-sizing: border-box; } \n.g-product-colors__sold { display:none; padding-left: 10px; color: #999; font-size: 12px; position: relative; } \n.g-product-colors__sold::before { content: \"\"; width: 2px; height: 2px; background-color: #999; border-radius: 100%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); } \n\n.g-product-colors--text .g-product-colors__item { border-radius: 8px; padding: 4px; display: inline-flex; align-items: center; gap: 5px; } \n.g-product-colors--text .g-product-colors__item--sold { background-color:#E0E0E0; cursor: no-drop; } \n.g-product-colors--text .g-product-colors__chip--image { background-position: center; background-repeat: no-repeat; background-size: contain; border: none!important; border-radius: 0; overflow: visible; } \n.g-product-colors--text .g-product-colors__chip--hidden { width:0; border: none !important; margin-left:-5px; } \n.g-product-colors--text .g-product-colors__chip::before { content: \"\"; width: 100%; height: 100%; border-radius: 8px; position: absolute; left: 0; top: 0; box-sizing: border-box; border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__chip::before { border: 1px solid #111; left: 0; top: 0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::after { display: none; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip { border: 1px solid #E0E0E0; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__chip::before { display: none; } \n.g-product-colors--text .g-product-colors__input:checked ~ .g-product-colors__name { color:#111; } \n.g-product-colors--text .g-product-colors__input:disabled ~ .g-product-colors__name { color:#999; } \n.g-product-colors--text .g-product-colors__name--hidden { display: none; } \n\n/* g-shopping-addons */\n.g-product-addons { display: flex; align-items: flex-start; gap: 16px; flex-wrap: wrap; } \n.g-product-addons__item { flex: 0 0 80px; display: flex; flex-direction: column; gap: 8px; } \n.g-product-addons__label { display: flex; flex-direction: column; gap: 12px; } \n.g-product-addons__img-box { position: relative; border-radius: 5px; border: 1px solid #E0E0E0; aspect-ratio: 1/1; width: 80px; height: 80px; display: flex; align-items: center; overflow: hidden; cursor: pointer; } \n.g-product-addons__img { max-width: 100%; max-height: 100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); } \n.g-product-addons__name { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color: #111; font-size: 16px; line-height: 1.5; } \n.g-product-addons__price { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; word-break: break-all; color:#111; font-size: 16px; font-weight: 700; line-height: 1.5; } \n.g-product-addons .g-shopping-checkbox:checked ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons .g-shopping-checkbox:disabled ~ .g-product-addons__img-box::after { content: \"\"; width:100%; height:100%; position: absolute; left:0; top: 0; background-color:#00000066; } \n.g-product-addons__soldout { color: #fff; font-size: 16px; z-index: 1; width: 100%; height: 100%; text-align: center; display: flex; align-items: center; justify-content: center; cursor: no-drop; } \n.g-product-addons--list { gap:10px; margin-bottom: 10px; } \n.g-product-addons--list .g-product-addons__item { flex-direction: row; gap: 10px; flex: 1 1 100%; } \n.g-product-addons--list .g-product-addons__label { cursor: context-menu; } \n.g-product-addons--list .g-product-addons__info { display: flex; flex-direction: column; } \n.g-product-addons--list .g-product-addons__qty { color: #666; font-size: 14px; margin-top: auto; padding-bottom: 3px; } \n\n/* .g-shopping-qty */\n.g-shopping-qty { padding-right: 28px; position: relative; display: inline-flex; } \n.g-shopping-qty__input { -moz-appearance: textfield; } \n.g-shopping-qty__input::-webkit-outer-spin-button,\n.g-shopping-qty__input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } \n.g-shopping-qty__input { width: 52px; height: 50px; font-size: 14px; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; padding: 0 14px; background-color: #fff; text-align: center; } \n.g-shopping-qty__button { width:24px; height:24px; background: url(//cdn.malltail.com/goods_img/contents/GLOBAL/global_shopping_qty_btn_D.svg) no-repeat center; position: absolute; right: 0; } \n.g-shopping-qty__button--up { top:0; } \n.g-shopping-qty__button--down { bottom:0; transform: scaleY(-1); } \n\n/* g-shopping-checkbox */\n.g-shopping-checkbox { position: relative; width: 18px; height: 18px; } \n.g-shopping-checkbox::before { content: \"\"; width: 100%; height: 100%; background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_D.svg); position: absolute; left: 0; top: 0; background-repeat: no-repeat; background-position: center; cursor: pointer; } \n.g-shopping-checkbox:checked:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_active_D.svg); } \n.g-shopping-checkbox:disabled:before { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_checkbox_disabled_D.svg); cursor: no-drop; } \n\n/* g-shopping-tabs*/\n.g-shopping-tabs { display: flex; } \n.g-shopping-tabs__item:first-of-type { border-radius: 8px 0 0 8px; } \n.g-shopping-tabs__item:last-of-type { border-radius: 0 8px 8px 0; } \n.g-shopping-tabs__item { border: 1px solid #E0E0E0; color: #999; font-weight: 600; padding: 10px 20px; height: 40px; display: flex; align-items: center; justify-content: center; background-color: #fff; flex: 1; cursor: pointer; } \n.g-shopping-tabs__item--active { font-weight: 700; color: #fff; background-color: #111; border: none; } \n\n/* g-shopping-cart-added */\n.g-shopping-cart-added { display: flex; } \n.g-shopping-cart-added__container { width:540px; display: flex; flex-direction: column; gap: 20px; align-items: center; margin: 0 auto; } \n.g-shopping-cart-added__title { font-size: 16px; font-weight: 700; } \n.g-shopping-cart-added__container .g-shopping-buttons { max-width: 284px; } \n\n/* g-shopping-checkout */\n.g-shopping-process { container-name: g-shopping-process; container-type: inline-size; } \n.g-shopping-process__title { font-size: 16px; font-weight: 700; margin-bottom: 10px; } \n.g-shopping-process__list { display: flex; align-items: flex-start; justify-content: space-between; min-width: 360px; max-width: max-content; } \n.g-shopping-process__item { display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center; position: relative; width:100%; } \n.g-shopping-process__text { font-weight: 500; color: #111; text-align: center; font-size:14px; line-height: 1.3; } \n.g-shopping-process__text .info-icon { vertical-align: -4px; margin-left: 2px; cursor: pointer; } \n.g-shopping-process__item--active .g-shopping-process__text { font-weight: 700; color: #2276FC; } \n.g-shopping-process__item--separator { background-image: url(//cdn.malltail.com/goods_img/contents/GLOBAL/g_shopping_process_separator_1_D.svg); width: 18px; height: 50px; background-repeat: no-repeat; background-position: center; max-width: 18px; background-size: 18px; flex: 1 0 auto; } \n.g-shopping-process__item:last-of-type::after { display: none; } \n.g-shopping-process__icon { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius: 16px; background-repeat: no-repeat; background-position: center; border: 1px solid #E0E0E0; } \n.g-shopping-process__item--active .g-shopping-process__icon { background-color: #F3F9FF; } \n.g-shopping-process__icon--cart { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_1_1.svg); } \n.g-shopping-process__icon--payment { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_2_1.svg); } \n.g-shopping-process__icon--buy { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_3_1.svg); } \n.g-shopping-process__icon--world { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_4_1.svg); } \n.g-shopping-process__icon--airplane { background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_process_5.svg); } \n.g-shopping-checkout__container { display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; gap: 20px; max-width: 741px; } \n.g-shopping-checkout__details { flex: 1 0 360px; } \n.g-shopping-checkout__opt { flex: 1 0 360px; height: 100%; position: sticky; top: 0; min-width: 260px; } \n.g-shopping-checkout__opt-container { background-color: #F7F7F9; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; height: 100%; position: relative; } \n.g-shopping-checkout__opt-list { display: flex; flex-direction: column; gap: 20px; } \n.g-shopping-checkout__opt-label { font-size: 16px; font-weight: 600; } \n.g-shopping-checkout__box { margin-top: 10px; } \n.g-shopping-checkout .g-shopping-button { position: static; bottom: 0; } \n.g-shopping-checkout__content { margin-top: 20px; margin-bottom: 20px; max-height: calc(100vh - 275px); overflow: auto; } \n\n/* g-shopping-histoty */\n.g-shopping-history { display: flex; flex-direction: column; gap: 20px; padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-shopping-history__del { width: 22px; height: 22px; display: inline-block; position: absolute; right: 0; top: 0; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_close.svg); background-repeat: no-repeat; cursor: pointer; background-size: 22px; } \n.g-shopping-history__date { color: #999; } \n.g-shopping-history__item { position: relative; } \n.g-shopping-history__name { margin-top: 8px; color: #444; font-size: 16px; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; word-break: break-all; } \n.g-shopping-history__price { color: #444; font-size: 16px; font-weight: 700; margin-top:4px; } \n.g-shopping-history__empty { font-size: 16px; font-weight: 600; padding: 35px 0; text-align: center; color: #999; } \n\n/* g-shopping-tooltip */\n.g-shopping-tooltip-container { position: relative; } \n.g-shopping-tooltip { background-color: #F3F9FF; border-radius: 5px; padding: 10px 28px 10px 10px; position: absolute; width: max-content; z-index: 999999999; border : 1px solid #70AEFF; display: none; right: 0; top: 31px; max-width: 283px; font-family: \"Pretendard\", -apple-system,BlinkMacSystemFont,Helvetica Neue,Segoe UI,Hiragino Kaku Gothic ProN,Yu Gothic,sans-serif; } \n.g-shopping-tooltip::after { content: \"\"; position: absolute; top: -5px; right:11px; width:8px; height: 5px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_arrow.svg); background-repeat: no-repeat; } \n.g-shopping-tooltip--left { left: 0; right: auto; } \n.g-shopping-tooltip--left.g-shopping-tooltip::after { right:auto; left:11px; } \n.g-shopping-tooltip__text { font-size: 12px; font-weight: 400; color: #444; text-align: left; } \n.g-shopping-tooltip__close { display: inline-block; width:8px; height:8px; background-size:contain; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_tooltip_close.svg); background-repeat: no-repeat; cursor: pointer; position: absolute; right: 10px; top: 15px; } \n\n/* g-product-list */\n.g-product-list { margin-top: 40px; } \n.g-product-list__item { display: flex; align-items: flex-start; gap: 40px 20px; flex-wrap: wrap; } \n.g-product-list__item:not(:last-of-type) { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px solid #E0E0E0; } \n.g-product-list__img-box { flex: 0 0 80px; border: 1px solid #E0E0E0; border-radius: 5px; position: relative; aspect-ratio: 1/1; } \n.g-product-list__img { max-width: 100%; max-height:100%; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%); } \n\n.g-product-list__opt { display: flex; gap: 20px; flex: 1 0 50%; flex-wrap: wrap; } \n.g-product-list__del { color: #888; display: inline-block; cursor: pointer; padding-left: 18px; position: absolute; bottom: -26px; left: 0; } \n.g-product-list__del::before { content: \"\"; background-image: url(//cdn.malltail.com/goods_img/GLOBAL/g_shopping_del.svg); width: 16px; height: 16px; position: absolute; left: 0; top: 1px; } \n.g-product-list__opt-item { display: flex; align-items: flex-start; flex-wrap: wrap; gap: 10px; flex: 0 0 100%; } \n.g-product-list__opt-item:last-of-type { padding-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-product-list__opt-label { font-weight: 600; word-break: break-word; font-size: 16px; flex: 0 0 100%; } \n.g-product-list__opt-label--li-height { padding:4.5px 0; } \n.g-product-list__name,.g-product-list__request-text { text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 4; word-break: break-all; } \n.g-product-list__opt-details { flex: 0 0 100%; color: #666; font-size: 16px; } \n.g-product-list .g-product-colors__chip { cursor: default; } \n.g-product-list__opt-item--wrap { flex-wrap: nowrap; justify-content: space-between; } \n.g-product-list__opt-item--wrap .g-product-list__opt-label,.g-product-list__opt-item--wrap .g-product-list__opt-details { flex: 0 0 auto; text-align: right; } \n\n/* g-checkout-details */\n.g-checkout-details { padding: 16px; border-radius: 5px; background-color: #fff; } \n.g-checkout-details__total { display: flex; justify-content: space-between; align-items: center; line-height: 1.5; flex-wrap: wrap; } \n.g-checkout-details__title { font-size:16px; font-weight:700; line-height: 1; } \n.g-checkout-details__price { text-align: right; display: block; } \n.g-checkout-details__desc { text-align: right; margin-top: 4px; color: #FF4330; line-height: 1.5; font-size: 12px; } \n.g-checkout-details__list { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; margin-top: 20px; border-top: 1px dotted #E0E0E0; } \n.g-checkout-details__item { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; } \n.g-checkout-details__label { font-weight: 500; color: #666; } \n.g-checkout-details__cost { font-size: 16px; font-weight: 500; } \n.g-checkout-details__unit { padding-right: 6px; } \n\n/* mobile css */\n\n@media (width <= 1024px ){\n .global-shopping-logo { width: 30px; height: 30px; background-position: -79px; } \n.g-shopping-banner__container { gap: 0; padding:20px; box-shadow: 0px -8px 16px 0px #00000014; border: 1px solid #E0E0E0; } \n.g-shopping-banner__layout { position:static; transform: none; gap: 8px; } \n.g-shopping-banner .g-shopping-links { margin-top:10px; } \n.g-shopping-banner .global-shopping-title { height:50px; padding-right: 50px; gap: 5px; } \n.g-shopping-banner__sub-title { margin-top:6px; } \n.g-shopping-banner__cart-add { margin-top:20px; } \n.g-shopping-banner__cart-btn { position: absolute; top: 20px; right: 20px; } \n.g-shopping-buttons { flex-wrap: nowrap; } \n.g-shopping-button--size-lg { width:100%; } \n.g-shopping-cart-banner:not(.g-shopping-banner--hide) { bottom:0; } \n.g-shopping-banner__minimize { bottom:50px; transform: translateY(0); } \n.g-shopping-cookie-banner .g-shopping-buttons { margin-top:20px; } \n.g-shopping-cart-added .g-shopping-buttons { flex-wrap: wrap; } \n }\n@media (width <= 720px){\n .global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) { top: auto; transform: translateX(-50%); bottom: 0; } \n.global-shopping-modal:not(.g-shopping-guide-modal,.g-shopping-alert-modal) .global-shopping-modal__container { border-bottom-left-radius: 0; border-bottom-right-radius: 0; } \n.g-product-card__details { min-width: auto;} \n.g-shopping-checkout-modal .global-shopping-modal__container { width:100%; } \n.g-shopping-checkout__container { flex-wrap:wrap; } \n.g-shopping-checkout__details { width:100%; flex: 1 0 100%; } \n.g-shopping-checkout__content { height:auto; margin-bottom: 50px; max-height: 100%; } \n.g-shopping-checkout .g-shopping-button { position: fixed; left: 50px; width: calc(100% - 115px); bottom: 30px; } \n }\n\n@media (width <= 479px ){\n .g-shopping-banner__title { display:none; } \n.g-shopping-guide__container { width:100%; } \n.g-shopping-unavailable__container { width:100%; } \n.global-shopping-modal__container { padding:20px; } \n\n.g-shopping-cookie__footer button { width:100%; } \n\n.g-product-card__opt { min-width:auto; } \n.g-product-card__opt-container { aspect-ratio: auto; gap:20px; max-height:100%; } \n.g-product-price-box { width: 100%; margin-top: 10px; } \n.g-shopping-cart-added__container .g-shopping-buttons { width: 100%; max-width: 100%; flex-wrap: wrap; } \n\n.g-shopping-process__list { -ms-overflow-style: none; scrollbar-width: none; min-width: auto; justify-content: space-between; max-width: 100%; } \n.g-shopping-process__list::-webkit-scrollbar { display: none; } \n.g-shopping-checkout__opt { min-width:100%; flex:0 auto; } \n.g-shopping-checkout__opt-container { height:auto; } \n.g-shopping-checkout__opt { aspect-ratio: auto; } \n.g-shopping-checkout .g-shopping-button { width: calc(100% - 95px); left: 40px; } \n.g-product-list__img-box { flex: 0 0 50px; } \n.g-product-card__container { flex-wrap: wrap; } \n.g-product-card__img-box { aspect-ratio:320/200; }\n.g-product-card__details { position: static;} \n\n.g-shopping-tooltip { max-width: 230px; width: -webkit-fill-available; } \n.g-shopping-dropdown__selected { height:38px; padding-right:34px; } \n .g-shopping-dropdown__list { max-height: 130px; } \n.g-shopping-dropdown__selected [class^=flag] { display:none; } \n }\n@media (width <= 360px ){\n .global-shopping-modal__body { min-width: 100%; } \n.g-shopping-banner__minimize { font-size: 0; text-indent: -99999px; gap:0; } \n.g-shopping-process__list { min-width: auto; } \n }\n/* who307 250602 */",
            "js": "window.__MT__.activeModal = null;\nwindow.__MT__.useInputs = ['select', 'input[type=\"radio\"]', 'input[type=\"number\"]', 'textarea'];\nwindow.__MT__.alert = (msg, params = {}, shadow = window.__MT__.MW?.shadowRoot) => {\n    const htmlEle = document.documentElement;\n    const globalBg = shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.activeModal?.classList.add('is-hidden');\n    window.__MT__.fetchHtml('alert', {\n        params: { ALERT_MSG: String(msg), ...params },\n        callback: () => {\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            const alertModal = shadow.querySelector(\".g-shopping-alert-modal\");\n            setTimeout(()=>{\n                alertModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            const onClose = (e) => {\n                const t = e.target.closest('[data-alert-close],[data-action=\"close\"]');\n                if (!t) return;\n                e.preventDefault();\n                try { alertModal.remove(); } catch (e) { }\n                if (window.__MT__.activeModal) {\n                    window.__MT__.activeModal.classList.remove('is-hidden');\n                    globalBg?.classList.remove('global-shopping-bg--hide');\n                } else {\n                    globalBg?.classList.add('global-shopping-bg--hide');\n                    htmlEle.classList.remove('scroll-hidden');\n                }\n                alertModal.removeEventListener('click', onClose, true);\n            };\n            alertModal.addEventListener('click', onClose, true);\n        }\n    });\n};\n\nwindow.__MT__.parsePrice = (text) => {\n    return parseFloat((text || \"0\").replace(/,/g, \"\")) || 0;\n}\n\nwindow.__MT__.parseExpressionArgs = (rawArgs, el, e) => {\n    return rawArgs.map(arg => {\n        if (arg === 'this') return el;\n        if (arg === 'event') return e;\n        if (arg === 'this.value') return el.value;\n        if (/^['\"].*['\"]$/.test(arg)) return arg.slice(1, -1);\n        if (!isNaN(arg)) return Number(arg);\n        if (arg === 'true') return true;\n        if (arg === 'false') return false;\n        return arg;\n    });\n}\n\nwindow.__MT__.attachValidityResetter = (inputs) => {\n    inputs.forEach(inp => {\n        if (inp.__mt_has_reset_listener) return;\n        const reset = () => {\n            const isFilled = (inp.type === 'radio')\n              ? document.querySelectorAll(`input[type=\"radio\"][name=\"${inp.name}\"]:checked`).length > 0\n              : !!(inp.value ?? '').trim() && (inp.value !== '0');\n\n            if (isFilled) {\n                inputs.forEach(i => {\n                  i.removeAttribute('required');\n                  i.setCustomValidity('');\n                });\n            }\n        };\n        inp.addEventListener('input', reset);\n        inp.addEventListener('change', reset);\n        inp.__mt_has_reset_listener = true;\n    });\n}\n\nwindow.__MT__.validateRequiredFields = (selector, el = window.__MT__.shadow) => {\n    let isValid = true;\n    let firstInvalidInput = null;\n\n    el.querySelectorAll(selector).forEach(el => {\n        const wrapper = el.closest('.g-shopping-checkout__opt-item') || el.closest('.g-product-card__opt-item');\n        if (!wrapper) return;\n\n        const nodeList = wrapper?.querySelectorAll(window.__MT__.useInputs.join(','));\n        if (!nodeList || nodeList.length === 0) {\n            if (selector === '.label-required-add') {\n                return;\n            } else {\n                const result = window.__MT__.validateRequiredFields('.label-required-add');\n                if (!result.isValid && !firstInvalidInput) {\n                    isValid = false;\n                    firstInvalidInput = result.firstInvalidInput;\n                }\n                return;\n            }\n        }\n\n        const inputs = Array.from(nodeList).filter(i => !i.disabled);\n        const filled = inputs.find(i => {\n            if (i.type === 'radio') return i.checked;\n            const v = (i.value ?? '').trim();\n            return !!v && v !== '0';\n        });\n\n        if (!filled) {\n            const rep = inputs[0];\n            const msg = rep?.getAttribute('data-required-msg');\n            inputs.forEach(input => input.setAttribute('required', 'required'));\n            rep.setCustomValidity(msg);\n\n            window.__MT__.attachValidityResetter(inputs);\n\n            if (!firstInvalidInput) firstInvalidInput = rep;\n            isValid = false;\n            el.classList.add('error');\n        } else {\n            inputs.forEach(i => {\n                i.removeAttribute('required');\n                i.setCustomValidity('');\n            });\n            el.classList.remove('error');\n        }\n    });\n\n    return { isValid, firstInvalidInput };\n}\n\nwindow.__MT__.updateTotalSummary = (payKRW) => {\n    const q = selector => window.__MT__.shadow.querySelector(selector);\n\n    const nodes = {\n        subtotal: q('[data-pay=\"subtotal\"]'),\n        domesticShipping: q('[data-pay=\"domestic-shipping\"]'),\n        internationalShipping: q('[data-pay=\"international-shipping\"]') || null,\n        agencyFee: q('[data-pay=\"agency-fee\"]'),\n        totalKRW: q('[data-pay=\"total-krw\"]'),\n        totalUSD: q('[data-pay=\"total-usd\"]')\n    };\n\n    if (payKRW === 0) {\n        nodes.subtotal.innerText = \"0\";\n        if (nodes.internationalShipping) {\n            nodes.internationalShipping.innerText = \"0\";\n        }\n        nodes.totalKRW.innerText = \"0\";\n        nodes.totalUSD.innerText = \"0.00\";\n        return;\n    }\n\n    nodes.subtotal.innerText = payKRW.toLocaleString();\n\n    const domesticShipping = nodes.domesticShipping ? window.__MT__.parsePrice(nodes.domesticShipping.innerText) : 0;\n    const internationalShipping = window.__MT__.calculateInternationalShipping();\n    if (nodes.internationalShipping) {\n        nodes.internationalShipping.innerText = internationalShipping.toLocaleString();\n    }\n    const agencyFee = window.__MT__.parsePrice(nodes.agencyFee?.innerText);\n\n    const totalKrw = payKRW + domesticShipping + internationalShipping + agencyFee;\n    const totalUsd = totalKrw / window.__MT__.exchangeRate;\n\n    nodes.totalKRW.innerText = totalKrw.toLocaleString('ko-KR');\n    nodes.totalUSD.innerText = `${totalUsd.toFixed(2)}`;\n\n}\n\n\nwindow.__MT__.initOptions = (calltype) => {\n    const is_pifo = !window.__MT__.pifo || !window.__MT__.pifo.length;\n    const is_cifo = !window.__MT__.cifo || !window.__MT__.cifo.length;\n    if (is_pifo && is_cifo) {\n        return;\n    }\n\n    const createOptionGroup = (list, group) => {\n        list.forEach(item => {\n            if (item.sto_opt_values && item.opt_ids && item.sto_state_code !== 'HIDE') {\n                const keys = item.sto_opt_values.split(',').map(v => v.trim());\n                let current = group;\n                keys.forEach((key, idx) => {\n                    if (idx === keys.length - 1) {\n                        current[key] = { ...item };\n                    } else {\n                        if (!current[key]) current[key] = {};\n                        current = current[key];\n                    }\n                });\n            }\n        });\n    }\n\n    const exec = (pi, elements, group = {}) => {\n        elements.forEach((container, idx) => {\n            const name = container.dataset.name?.toUpperCase();\n            const type = container.dataset.type;\n            const mix = container.dataset.mix;\n            if (window.__MT__.activeModal.classList.contains('g-shopping-checkout-modal')) {\n                window.__MT__.INPUT[type].view(container);\n                return;\n            }\n            if (name === 'QTY') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n                window.__MT__.renderQuantity(pi);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'N' || type == 'hybrid') {\n                window.__MT__.INPUT.renderOption(idx, pi, container, type, group);\n                bindChange(idx, pi, elements, group);\n            } else if (mix === 'Y') {\n                window.__MT__.INPUT.clearOption(idx, pi, container, type, group);\n            }\n        });\n\n        const firstYIndex = Array.from(elements).findIndex(el => el.dataset.mix === 'Y' && el.dataset.type !== 'hybrid');\n        if (firstYIndex !== -1) {\n            window.__MT__.INPUT.renderOption(firstYIndex, pi, elements[firstYIndex], elements[firstYIndex].dataset.type, group);\n            bindChange(firstYIndex, pi, elements, group);\n        }\n    }\n\n    const bindChange = (idx, pi, elements, group = {}) => {\n        const container = elements[idx];\n        container.querySelectorAll(window.__MT__.useInputs.join(',')).forEach(input => {\n            let eventType = 'change';\n            if (input.tagName === 'BUTTON') {\n                eventType = 'click';\n            } else if (input.tagName === 'TEXTAREA') {\n                eventType = 'blur';\n            }\n            input.addEventListener(eventType, (e) => {\n                const type = container.dataset.type;\n                const value = input.value;\n                const nextGroup = group[value] || {};\n                const nextIdx = idx + 1;\n\n                if (type !== 'hybrid') {\n                    for (let i = nextIdx; i < elements.length; i++) {\n                        if (elements[i].dataset.mix === 'Y') {\n                            window.__MT__.INPUT.clearOption(nextIdx, pi, elements[i], elements[i].dataset.type, nextGroup);\n                            window.__MT__.changeOptions(\n                                elements[i].querySelector(window.__MT__.useInputs.join(',')),\n                                pi\n                            );\n                        }\n                    }\n                }\n                if (nextGroup && elements[nextIdx] && elements[nextIdx].dataset.mix === 'Y' && type !== 'hybrid') {\n                    window.__MT__.INPUT.renderOption(nextIdx, pi, elements[nextIdx], elements[nextIdx].dataset.type, nextGroup);\n                    bindChange(nextIdx, pi, elements, nextGroup);\n                }\n\n                window.__MT__.changeOptions(input, pi);\n            });\n        });\n    }\n\n    const allContainers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const accordionContains = accordion?.querySelectorAll('.g-product-card__opt-container');\n    let containers = Array.from(allContainers).filter(el => !accordion || !accordion.contains(el));\n    let addIdx = 0;\n    if (containers.length === 0) {\n        containers = window.__MT__.shadow.querySelectorAll('.g-product-list__opt');\n    } else if (calltype) {\n        containers = Array.from(accordionContains);\n        addIdx++;\n    } else {\n        window.__MT__.options = {};\n        window.__MT__.additions = {};\n        window.__MT__.item = {};\n        window.__MT__.save_data = {};\n    }\n    containers.forEach((el, idx) => {\n        const pi = window.__MT__.pifo[idx+addIdx] || {};\n        const basicList = pi.options && Array.isArray(pi.options.basic) ? pi.options.basic : [];\n        const additionList = pi.options && Array.isArray(pi.options.addition) ? pi.options.addition : [];\n\n        const optionElements = el.querySelectorAll(`[data-name^=\"option\"]`);\n        const additionElements = el.querySelectorAll(`[data-name^=\"addition\"]`);\n        const qtyElement = el.querySelectorAll(`[data-name=\"qty\"]`);\n    \n        const optionsGroup = {};\n        createOptionGroup(basicList, optionsGroup);\n        const additionGroup = {};\n        createOptionGroup(additionList, additionGroup);\n    \n        exec(pi, optionElements, optionsGroup);\n        exec(pi, additionElements, additionGroup);\n        exec(pi, qtyElement);\n    });\n    if (!calltype) {\n        const memoElement = window.__MT__.shadow.querySelectorAll(`[data-name=\"memo\"]`);\n        exec(window.__MT__.pifo[0], memoElement);\n    }\n}\n\n\nwindow.__MT__.bindEvents = () => {\n    ['click', 'change', 'blur'].forEach(eventType => {\n        window.__MT__.shadow.querySelectorAll(`[v-${eventType}]`).forEach(el => {\n            if (el.dataset.bound) return; // 중복 방지\n\n            const expression = el.getAttribute(`v-${eventType}`);\n            const match = expression.match(/^([\\w$]+)\\((.*)\\)$/);\n            if (!match) return;\n\n            const [, methodName, argStr] = match;\n            const rawArgs = argStr ? argStr.split(',').map(s => s.trim()) : [];\n\n            el.addEventListener(eventType, (e) => {\n                const parsedArgs = window.__MT__.parseExpressionArgs(rawArgs, el, e);\n                if (typeof window.__MT__[methodName] === 'function') {\n                    window.__MT__[methodName](...parsedArgs);\n                } else {\n                    console.warn(`Method \"${methodName}\" is not defined.`);\n                }\n            });\n            el.dataset.bound = \"1\";\n        });\n    });\n}\n\nwindow.__MT__.initCartBannerState = () => {\n    const state = window.__MT__.getCookie('cartBannerState');\n    if (!state) return;\n    if (state === 'closed') {\n        window.__MT__.closeBanner();\n    } else {\n        window.__MT__.openBanner();\n    }\n}\n\nwindow.__MT__.initCookiePreferences = () => {\n    window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n        if (window.__MT__.uifo[input.getAttribute('data-name')] === 'Y') {\n            input.checked = true;\n        } else {\n            input.checked = false;\n        }\n    });\n}\n\nwindow.__MT__.bindAccordionToggle = () => {\n    window.__MT__.shadow.querySelectorAll(\".g-shopping-accordion .g-shopping-accordion__header\").forEach(header => {\n        header.onclick = () => {\n            header.classList.toggle(\"g-shopping-accordion__header--expand\");\n        };\n    });\n}\n\nwindow.__MT__.acceptAllCookies = () => {\n    if (window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').length > 0) {\n        window.__MT__.shadow.querySelectorAll('[data-name^=\"cookie\"]').forEach(input => {\n            input.checked = true;\n            window.__MT__.checkAccordion(input);\n        });\n    } else {\n        window.__MT__.uifo.cookie1 = 'Y';\n        window.__MT__.uifo.cookie2 = 'Y';\n        window.__MT__.uifo.cookie3 = 'Y';\n        window.__MT__.openModal('guide.modal');\n    }\n}\n\nwindow.__MT__.checkAccordion = (el) => {\n    window.__MT__.uifo[el.getAttribute('data-name')] = el.checked === true ? 'Y' : 'N';\n}\n\nwindow.__MT__.updateCartCount = () => {\n    window.__MT__.shadow.querySelectorAll('.cart-count').forEach(btn => {\n        btn.innerText = String(window.__MT__.cifo.length ?? 0);\n    });\n}\n\nwindow.__MT__.disableCartAddButton = () => {\n    if (window.__MT__.pifo.length === 0) return;\n    if (window.__MT__.sifo === null) return;\n    const pi = window.__MT__.pifo[0];\n    const si = window.__MT__.sifo;\n\n    // 조건 계산\n    const qtyZero         = pi.quantity && !isNaN(pi.quantity) && Number(pi.quantity) === 0;\n    const sellBlocked     = pi.sell_accept === 'N';\n    const smartpickup     = pi.smartpickup === 'Y';\n    const use_calendar    = typeof pi.regular_delivery?.use_calendar !== 'undefined' && pi.regular_delivery.use_calendar === 'Y';\n    const soldout         = pi.soldout && pi.soldout !== 'N';\n    const hiddenByProduct = Array.isArray(si.hidden_products) && si.hidden_products.includes(pi.uid);\n\n    // 카테고리 문자열 생성\n    const c1 = pi?.cate1 || '';\n    const c2 = pi?.cate2 || '';\n    const c3 = pi?.cate3 || '';\n    const category = c1 + c2 + c3;\n\n    // 카테고리 숨김(접두 일치) 판정\n    let hiddenByCategory = false;\n    if (category && si && Array.isArray(si.hidden_categories)) {\n        for (const cat of si.hidden_categories) {\n            if (cat && category.startsWith(cat)) {\n                hiddenByCategory = true;\n                break;\n            }\n        }\n    }\n    let addClass = '';\n    if (qtyZero || smartpickup || use_calendar || soldout) {\n        addClass = 'quantity';\n    } else if (hiddenByCategory || hiddenByProduct || sellBlocked) {\n        addClass = 'hidden_product';\n    }\n\n    // 비활성 여부\n    const isDisabled = addClass !== '';\n\n    // 실제 버튼에 적용 예시\n    const btn = window.__MT__.shadow.querySelector('.g-shopping-banner__cart-add');\n    if (isDisabled) {\n        btn.classList.remove('g-shopping-button--bg-blue');\n        btn.classList.add('g-shopping-button--disabled');\n        btn.classList.add(addClass);\n    } else {\n        btn.classList.remove('g-shopping-button--disabled');\n        btn.classList.remove('quantity');\n        btn.classList.remove('hidden_product');\n        btn.classList.add('g-shopping-button--bg-blue');\n    }\n}\n\nwindow.__MT__.openModal = async (modalName, el = null) => {\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n    } else if (modalName === \"cart.add\" && window.__MT__.pifo.length === 0) {\n        await new Promise(resolve => {\n            window.__MT__.loadProductInfo(() => resolve());\n        });\n    } else if (modalName === \"cart.list\") {\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(() => resolve());\n        });\n    }\n\n    window.__MT__.disableCartAddButton();\n\n    if (el?.classList.contains('g-shopping-button--disabled')) {\n        if (el.classList.contains('hidden_product')) {\n            __MT__.alert('상점의 설정에 따라 고객님이 계신 국가, 지역에서는 구매할 수 없는 상품 입니다.');\n        }\n        if (el.classList.contains('quantity')) {\n            __MT__.alert('재고가 소진됐거나 구매할 수 없는 상품입니다.');\n        }\n        return;\n    }\n\n    const htmlEle = document.documentElement;\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n\n            htmlEle.classList.add(\"scroll-hidden\");\n            globalBg?.classList.remove(\"global-shopping-bg--hide\");\n\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n\n            (cookieBanner || cartBanner)?.classList.add(\"g-shopping-banner--hide\");\n            if (window.__MT__.pifo[0]?.addition_type.match(/^(package|bundle)$/)) {\n                const accordionBtn = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion-btn');\n                if (accordionBtn) window.__MT__.toggleAccordion(accordionBtn);\n            }\n            window.__MT__.onready(0);\n        }\n    });\n}\n\nwindow.__MT__.closeModal = (modalName, el = null) => {\n    const htmlEle = document.documentElement;\n    const cookieBanner = window.__MT__.shadow.querySelector(\".g-shopping-cookie-banner\");\n    const cartBanner = window.__MT__.shadow.querySelector(\".g-shopping-cart-banner\");\n    const globalBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    htmlEle.classList.remove(\"scroll-hidden\");\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (window.__MT__.cookieConsent !== window.__MT__.isCookieConsent()) {\n        location.reload();\n        return;\n    }\n\n    (cookieBanner || cartBanner)?.classList.remove(\"g-shopping-banner--hide\");\n    if (!cookieBanner) {\n        globalBg?.classList.add(\"global-shopping-bg--hide\");\n        window.__MT__.shadow.querySelectorAll('.g-shopping-dropdown').forEach(item => {\n            window.__MT__.dropdownEvent(item);\n        });\n    }\n}\n\nwindow.__MT__.changeModal = async (modalName, el = null) => {\n    if (window.__MT__.activeModal) {\n        window.__MT__.activeModal.remove();\n        window.__MT__.activeModal = null;\n    }\n\n    if (modalName === 'guide.modal') {\n        window.__MT__.saveUserInfo();\n        if (window.__MT__.cookieConsent) {\n            window.__MT__.closeModal(modalName);\n            return;\n        }\n    }\n\n    if (modalName === \"cart.add.modal\") {\n        await window.__MT__.addedCart();\n    }\n    window.__MT__.fetchHtml(modalName, {\n        callback: (data) => {\n            if (!data?.html) return;\n            window.__MT__.activeModal = window.__MT__.shadow.querySelector(\".global-shopping-modal\");\n            setTimeout(()=>{\n                window.__MT__.activeModal.classList.add(\"global-shopping-modal--open\");\n            },100);\n            window.__MT__.onready(1);\n        }\n    });\n}\n\nwindow.__MT__.addedCart = async () => {\n    if (window.__MT__.save_data && Object.keys(window.__MT__.save_data).length) {\n        await new Promise(resolve => {\n            window.__MT__.saveCartInfo(() => resolve());\n        });\n\n        await new Promise(resolve => {\n            window.__MT__.loadCartInfo(()=> resolve());\n        });\n\n        window.__MT__.updateCartCount();\n    }\n}\n\nwindow.__MT__.deleteCart = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartInfo(id, () => resolve());\n    });\n\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-uniqueid=\"${id}\"]`)?.remove();\n    window.__MT__.updateCartCount();\n    window.__MT__.updateTotalPrice();\n    window.__MT__.disableCartButton();\n}\n\nwindow.__MT__.deleteHistory = async (id) => {\n    await new Promise(resolve => {\n        window.__MT__.deleteCartHistory(id, () => resolve());\n    });\n    await new Promise(resolve => {\n        window.__MT__.loadCartHistory(() => resolve());\n    });\n\n    window.__MT__.shadow.querySelector(`[data-historyid=\"${id}\"]`)?.remove();\n    window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n}\n\nwindow.__MT__.renderQuantity = (pi) => {\n    const qtyElement = window.__MT__.shadow.querySelector(`[data-group=\"${pi.__index}\"][name=\"qty\"]`);\n    if (!qtyElement) return;\n\n    const parseLimit = (val, fallback) => {\n        if (val === 'Unlimited' || val === undefined || val === null) {\n            return fallback;\n        }\n        return Number(val) || fallback;\n    }\n    window.__MT__.INPUT.option.clear(qtyElement, qtyElement.dataset.defaultOption);\n    window.__MT__.changeOptions(qtyElement, pi);\n\n    if (qtyElement) {\n        qtyElement.dataset.min = parseLimit(pi.min_quantity, 1);\n        qtyElement.dataset.max = parseLimit(pi.max_quantity, 999);\n    }\n    const min = pi.min_order_quantity_method === 'EACH' ? parseLimit(pi.min_quantity, 1) : 1;\n    const max = parseLimit(pi.max_quantity, 20);\n    for (let i = min; i <= Math.min(max, 20); i++) {\n        const optEl = window.__MT__.INPUT.option.create(i, i);\n        qtyElement.appendChild(optEl);\n    }\n}\n\nwindow.__MT__.changeOptions = (input, pi) => {\n    const type = input.dataset.type;\n    const name = input.name || input.dataset.name || 'unknown';\n    const key = input.dataset.key || name;\n    const isAddition = input.dataset.addition === 'Y';\n    const opt_type = pi.opt_type || '';\n    if (!String(name).match(/^(qty|memo)$/)) {\n        window.__MT__.renderQuantity(pi);\n    }\n\n    let value = '';\n    let text = '';\n    let price = 0;\n    let color = '';\n    let image = '';\n    let min = 0;\n    let max = 0;\n    let optionType = '';\n    let qty = '';\n\n    switch (type) {\n        case 'select':\n            value = input.value;\n            text = input.options[input.selectedIndex]?.text || '';\n\n            price = window.__MT__.parsePrice(input.options[input.selectedIndex]?.dataset.price || '0');\n            optionType = input.options[input.selectedIndex]?.dataset.optionType || '';\n            min = parseInt(input.dataset.min || '0', 10);\n            max = parseInt(input.dataset.max || '0', 10);\n            if (isNaN(min)) min = 0;\n            if (isNaN(max)) max = 0;\n            if (isAddition && name === 'qty') qty = input.value;\n            break;\n        case 'color':\n            if (input.checked) {\n                value = input.value;\n                text = input.dataset.colorName || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0');\n                optionType = input.dataset.optionType || '';\n                color = input.dataset.colorCode || '';\n                image = input.dataset.image || '';\n            }\n            break;\n        case 'hybrid':\n            if (!!input.value && input.value !== '0') {\n                qty = input.value;\n                value = input.dataset.stoOptValues || '';\n                text = input.dataset.stoOptValuesLoc || '';\n\n                price = window.__MT__.parsePrice(input.dataset.price || '0') * Number(qty);\n                optionType = input.dataset.optionType || '';\n                image = input.dataset.stoImage || '';\n            }\n            break;\n        case 'textarea':\n            value = input.value;\n            text = value;\n            break;\n\n        default:\n            console.warn('Unsupported option type:', type);\n            break;\n    }\n\n    if (isAddition) {\n        if (value) {\n            if (!window.__MT__.additions[pi.uid]) {\n                window.__MT__.additions[pi.uid] = {\n                    product_name: pi.product_name,\n                    product_name_loc: pi.product_name_loc,\n                    sellprice: pi.sellprice,\n                    maximage: pi.maximage,\n                    minimage: pi.minimage,\n                    options: {},\n                    quantity: 0,\n                    opt_type: opt_type,\n                };\n            }\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = Number(qty);\n            } else {\n                window.__MT__.additions[pi.uid]['options'][name] = { name, key, value, text, price, color, image, type, optionType };\n                if (String(opt_type).match(/^(package|bundle)$/)) {\n                    const parentQty = Number(window.__MT__.options?.qty?.value || 0);\n                    if (parentQty) {\n                        const childQty = window.__MT__.shadow.querySelector(`select[data-group=\"${pi.__index}\"][data-name=\"qty\"]`);\n                        childQty.value = parentQty;\n                        window.__MT__.changeOptions(childQty, pi);\n                    }\n                }\n            }\n        } else if (window.__MT__.additions[pi.uid]) {\n            if (name === 'qty') {\n                window.__MT__.additions[pi.uid].quantity = 0;\n            } else if (window.__MT__.additions[pi.uid]['options'][name]) {\n                delete window.__MT__.additions[pi.uid]['options'][name];\n            }\n        }\n    } else {\n        if (value) {\n            window.__MT__.options[name] = { name, key, value, text, price, color, image, type, optionType };\n            if (min) window.__MT__.options[name]['min'] = min;\n            if (max) window.__MT__.options[name]['max'] = max;\n            if (qty) window.__MT__.options[name]['qty'] = qty;\n            if (name === 'qty' && String(pi.addition_type).match(/^(package|bundle)$/)) {\n                window.__MT__.shadow.querySelectorAll(\n                'select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"package\"], select[data-name=\"qty\"]:not([data-group=\"0\"])[data-opt-type=\"bundle\"]'\n                ).forEach(qtyEl => {\n                    qtyEl.value = value;\n                    window.__MT__.changeOptions(qtyEl, window.__MT__.pifo[qtyEl.dataset.group]);\n                });\n            }\n        } else if (window.__MT__.options[name]) {\n            delete window.__MT__.options[name];\n        }\n    }\n\n    window.__MT__.makeItemInfo((item) => {\n        window.__MT__.updatePrice(item);\n    });\n}\n\nwindow.__MT__.checkOrderQuantity = () => {\n    const cifo = window.__MT__.cifo || [];\n    const cifoClone = {};\n    ['min', 'max'].forEach(type => {\n        cifo.forEach(item => {\n            const order_quantity_method = item[`${type}_order_quantity_method`];\n            const limit_quantity = Number(item[`${type}_quantity`]);\n            const uniqueid = order_quantity_method === 'EACH' && limit_quantity > 0 ? item.uniqueid+type :item.uid+type;\n            if (!cifoClone[uniqueid]) {\n                cifoClone[uniqueid] = {};\n                cifoClone[uniqueid].quantity = 0;\n            }\n            if (!isNaN(limit_quantity) && limit_quantity > 0) {\n                cifoClone[uniqueid].type = type;\n                cifoClone[uniqueid].limit_quantity = limit_quantity;\n                cifoClone[uniqueid].quantity += Number(item.quantity);\n                cifoClone[uniqueid].product_name = item.product_name_loc || item.product_name;\n            }\n        });\n    });\n    for (const item of Object.values(cifoClone)) {\n        if (item.type === 'min') {\n            if (item.quantity < item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'min_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최소 주문 수량은 {{min_quantity}}개 입니다.`, params};\n            }\n        } else if (item.type === 'max') {\n            if (item.quantity > item.limit_quantity) {\n                const params = {'product_name':item.product_name_loc||item.product_name, 'max_quantity':item.limit_quantity};\n                return {msg: `상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params};\n            }\n        }\n    }\n\n    return '';\n}\n\nwindow.__MT__.checkCartInfo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.focus({ preventScroll: false });\n        setTimeout(() => firstInvalidInput.reportValidity(), 0);\n        return;\n    }\n\n    const containers = window.__MT__.shadow.querySelectorAll('.g-product-card__opt-container');\n    for (const container of containers) {\n        const inputs = container.querySelectorAll(window.__MT__.useInputs.join(','));\n        let hasValue = false;\n        for (const input of inputs) {\n            const v = input.type === 'radio' ? input.checked : input.value ? true : false;\n            if (v) {\n                hasValue = true;\n                break;\n            }\n        }\n        if (hasValue) {\n            const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required-add, select[data-name=\"qty\"]', container);\n\n            if (!isValid && firstInvalidInput) {\n                firstInvalidInput.focus({ preventScroll: false });\n                setTimeout(() => firstInvalidInput.reportValidity(), 0);\n                return;\n            }\n        }\n    }\n\n    window.__MT__.makeCartInfo((ret) => {\n        if (ret) {\n            window.__MT__.changeModal('cart.add.modal');\n        }\n    });\n}\n\nwindow.__MT__.makeItemInfo = async (callback) => {\n    if (!window.__MT__.pifo || !window.__MT__.pifo.length) {\n        return;\n    }\n    const pi = window.__MT__.pifo[0];\n    const sellprice = parseFloat(pi.sellprice || 0);\n    let optionsArray = [];\n    let memoObj = '';\n    let quantity = 0;\n    let min_quantity = 0;\n    let max_quantity = 0;\n    let hasHybrid = false;\n    if (window.__MT__.options && Object.keys(window.__MT__.options).length) {\n        optionsArray = Object.entries(window.__MT__.options)\n            .filter(([key]) => /^(option|addition)\\d+(?:-\\d+)?$/.test(key))\n            .map(([, value]) => {\n                if (value.type === 'hybrid') hasHybrid = true;\n                return value;\n            })\n            .sort((a, b) => {\n                const numsA = a.name.match(/\\d+/g)?.map(Number) ?? [0];\n                const numsB = b.name.match(/\\d+/g)?.map(Number) ?? [0];\n                if (numsA[0] !== numsB[0]) return numsA[0] - numsB[0];\n                return (numsA[1] ?? 0) - (numsB[1] ?? 0);\n            });\n        memoObj = window.__MT__.options.memo?.value || '';\n        quantity = Number(window.__MT__.options.qty?.value) || 0;\n        min_quantity = Number(window.__MT__.options.qty?.min) || 0;\n        max_quantity = Number(window.__MT__.options.qty?.max) || 0;\n    }\n\n    const memo = memoObj ? [memoObj] : [];\n\n    window.__MT__.item = {\n        uid: pi.uid || '',\n        product_name: pi.product_name || '',\n        product_name_loc: pi.product_name_loc || '',\n        product_type: hasHybrid ? 'HYBRID' : 'NOMAL',\n        sellprice: sellprice,\n        maximage: pi.maximage || '',\n        minimage: pi.minimage || '',\n        goods_info_etc: location.href,\n        options: optionsArray,\n        additions: window.__MT__.additions,\n        memo,\n        quantity: quantity,\n        min_order_quantity_method: pi.min_order_quantity_method || 'ALL',\n        max_order_quantity_method: pi.max_order_quantity_method || 'ALL',\n        min_quantity: min_quantity,\n        max_quantity: max_quantity,\n        weight: pi.weight || 0,\n        expireAt: Date.now() + (1000 * 60 * 60 * 24),\n        limit_date: pi.limit_date || '',\n        dc_limit_date: pi.dc_limit_date || '',\n        dc_type: pi.dc_type || '',\n    };\n\n    const baseId = String(window.__MT__.item.uid);\n    const key = window.__MT__.buildOptionsKey(optionsArray , { sortInsensitive:true } );\n    const suffix = key ? await window.__MT__.sha256Base64Url(key, 9) : '';\n    window.__MT__.item.uniqueid = suffix ? `${baseId}-${suffix}` : baseId;\n    callback(window.__MT__.item);\n}\n\nwindow.__MT__.makeCartInfo = async (callback) => {\n    await new Promise(resolve => {\n        window.__MT__.loadCartInfo(() => resolve());\n    });\n    const existing = window.__MT__.cifo.find(i => i.uniqueid === window.__MT__.item.uniqueid);\n    if (existing) {\n        const addQty = parseInt(window.__MT__.item.quantity || '1', 10);\n        const curQty = parseInt(existing.quantity || '0', 10);\n        existing.quantity = String(curQty + addQty);\n        if (JSON.stringify(window.__MT__.item.options) !== JSON.stringify(existing.options)) {\n            existing.options = window.__MT__.item.options;\n        }\n        if (JSON.stringify(window.__MT__.item.additions) !== JSON.stringify(existing.additions)) {\n            existing.additions = window.__MT__.item.additions;\n        }\n        if (existing.quantity > existing.max_quantity) {\n            const params = {'product_name': existing.product_name_loc||existing.product_name, 'max_quantity': existing.max_quantity};\n            __MT__.alert(`상품 [{{product_name}}]의 최대 주문 수량은 {{max_quantity}}개 입니다.`, params);\n            callback(false);\n            return;\n        }\n        // if (window.__MT__.cifo.length > 30) {\n        //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n        //     return;\n        // }\n\n        const newMemo = window.__MT__.item.memo[0];\n        if (newMemo && !existing.memo.some(m => m === newMemo)) {\n            existing.memo.push(newMemo);\n        }\n\n        window.__MT__.save_data = existing;\n    } else {\n        window.__MT__.save_data = window.__MT__.item;\n    }\n    if (window.__MT__.save_data.additions) {\n        Object.entries(window.__MT__.save_data.additions).forEach(([uid, addItem]) => {\n            if (addItem.quantity === 0) {\n                delete window.__MT__.save_data.additions[uid];\n            }\n        });\n    }\n    callback(true);\n    return;\n}\n\nwindow.__MT__.paygo = () => {\n    const { isValid, firstInvalidInput } = window.__MT__.validateRequiredFields('.label-required');\n    if (!isValid && firstInvalidInput) {\n        firstInvalidInput.reportValidity();\n        firstInvalidInput.focus();\n        return;\n    }\n\n    if (window.__MT__.cifo.length === 0) {\n        __MT__.alert('장바구니에 담긴 상품이 없습니다.');\n        return;\n    }\n    // if (window.__MT__.cifo.length > 30) {\n    //     __MT__.alert('장바구니에 담긴 상품이 너무 많습니다. 최대 30개까지 주문할 수 있습니다.');\n    //     return;\n    // }\n    let temp = '';\n    if (temp = window.__MT__.checkOrderQuantity()) {\n        __MT__.alert(temp.msg, temp.params);\n        return;\n    }\n\n    const data = {\n        d_country: window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value || '',\n        distinct_id: window.__MT__.uifo.distinct_id || '',\n        cart: JSON.stringify(window.__MT__.cifo),\n        shop_url: window.__MT__.shopurl,\n        cart_id: window.__MT__.getCookie('cart_id'),\n    };\n\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = window.__MT__.malltailhost + '/global_shoppings/';\n    form.acceptCharset = 'UTF-8';\n\n    for (const key in data) {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = key;\n        input.value = data[key];\n        form.appendChild(input);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n\nwindow.__MT__.updateTotalPrice = () => {\n    const totalKRW = window.__MT__.cifo.reduce((sum, item) => {\n        const price = window.__MT__.updatePrice(item);\n        item.realprice = price;\n        return sum + price;\n    }, 0);\n    window.__MT__.updateTotalSummary(totalKRW);\n}\n\nwindow.__MT__.updatePrice = (item) => {\n    let payKRW = 0;\n    let itemTotal = parseFloat(item.sellprice || 0);\n    const itemOptions = item.options || [];\n    let singlePrice = 0;\n    itemOptions.forEach(opt => {\n        let price = parseFloat(opt.price || 0);\n        if (!isNaN(price)) {\n            if (opt.optionType === 'SINGLE') {\n                singlePrice += price;\n            } else {\n                itemTotal += price;\n            }\n        }\n    });\n    let itemQty = parseInt(item.quantity || 1, 10);\n    let itemTotalKRW = (itemTotal * itemQty) + singlePrice;\n    \n    if (item.additions && Object.keys(item.additions).length) {\n        Object.entries(item.additions).forEach(([uid, addItem]) => {\n            const addOptions = addItem.options || {};\n            let addPrice = parseFloat(addItem.sellprice || 0);\n            let addSinglePrice = 0;\n            for (const opt of Object.values(addOptions)) {\n                let price = parseFloat(opt.price || 0);\n                if (!isNaN(price)) {\n                    if (opt.optionType === 'SINGLE') {\n                        addSinglePrice += price;\n                    } else {\n                        addPrice += price;\n                    }\n                }\n            }\n            addQty = parseInt(addItem.quantity, 10);\n            addPrice = (addPrice * addQty) + addSinglePrice;\n            item.additions[uid].realprice = addPrice;\n            const addPriceUSD = addPrice / window.__MT__.exchangeRate;\n            itemTotalKRW += addPrice;\n            const box = window.__MT__.shadow.querySelector(`[data-uid=\"${uid}\"]`);\n            if (box) {\n                box.querySelector('.g-product-addons__price').innerText = `$${addPriceUSD.toFixed(2)}`;\n            }\n        });\n    }\n    let itemTotalUSD = itemTotalKRW / window.__MT__.exchangeRate;\n\n    let itemEl = window.__MT__.shadow.querySelector(`[data-uniqueid=\"${item.id}\"]`);\n    itemEl = itemEl ? itemEl : window.__MT__.shadow;\n    if (itemEl) {\n        itemEl.querySelectorAll('[data-total-price]').forEach(el => {\n            if (el.getAttribute('data-total-price') === 'KRW') {\n                el.innerText = itemTotalKRW.toLocaleString();\n            } else if (el.getAttribute('data-total-price') === 'USD') {\n                el.innerText = `${itemTotalUSD.toFixed(2)}`;\n            }\n        });\n    }\n\n    payKRW += itemTotalKRW;\n    return payKRW;\n}\n\nwindow.__MT__.calculateInternationalShipping = () => {\n    const d_country = window.__MT__.shadow.querySelector('[data-name=\"d_country\"]')?.value;\n    const deliveryTable = window.__MT__.deliveryprice[d_country];\n    if (!deliveryTable || deliveryTable.length === 0) {\n        // console.warn('No delivery table found for the selected country:', d_country);\n        return 0;\n    }\n\n    const totalWeight = window.__MT__.kg_up(window.__MT__.calculateInternationalShippingWeight());\n\n    window.__MT__.overWeight = false;\n    if (totalWeight > 30) {\n        window.__MT__.overWeight = true;\n        return 0;\n    }\n\n    let shippingPrice = deliveryTable.find(entry => parseFloat(entry.weight) >= totalWeight);\n\n    if (!shippingPrice) {\n        shippingPrice = deliveryTable[deliveryTable.length - 1];\n    }\n\n    return parseFloat(shippingPrice.total_amount || 0);\n}\n\nwindow.__MT__.calculateInternationalShippingWeight = () => {\n    const totalQTY = window.__MT__.cifo.reduce((sum, item) => {\n        return sum + parseInt(item.quantity || 1, 10);\n    }, 0);\n\n    const d_paid_base_weight = parseFloat(window.__MT__.sifo.d_paid_base_weight || 0);\n    const d_paid_extra_weight = parseFloat(window.__MT__.sifo.d_paid_extra_weight || 0);\n\n    let totalWeight = d_paid_base_weight;\n    if (totalQTY > 1) {\n        totalWeight += ((totalQTY - 1) * (d_paid_base_weight * d_paid_extra_weight));\n    }\n\n    return totalWeight;\n}\n\n\nwindow.__MT__.changeQuantity = async (id, obj) => {\n    const newQty = Number(obj.value);\n    const existing = window.__MT__.cifo.find(i => i.id === Number(id));\n\n    if (existing) {\n        if (newQty > Number(existing.max_quantity)) {\n            obj.value = existing.quantity;\n            return;\n        }\n        existing.quantity = String(newQty);\n        existing.additions && Object.values(existing.additions).forEach(addItem => {\n            if (addItem.opt_type === 'package' || addItem.opt_type === 'bundle') {\n                addItem.quantity = String(newQty);\n            }\n        });\n        await new Promise(resolve => {\n            window.__MT__.IDB.update('cart_info', Number(id), { quantity: existing.quantity, additions: existing.additions }, () => resolve());\n        });\n    }\n\n    window.__MT__.loadCartInfo(() => {\n        window.__MT__.updateTotalPrice();\n    });\n}\n\nwindow.__MT__.closeBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"none\";\n        __MT__.cartMinimize.style.display = \"flex\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.add('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'closed');\n    }\n}\n\nwindow.__MT__.openBanner = () => {\n    if (__MT__.cartContainer && __MT__.cartMinimize) {\n        __MT__.cartContainer.style.display = \"flex\";\n        __MT__.cartMinimize.style.display = \"none\";\n        if (!window.__MT__.cookieConsent) {\n            __MT__.cartBg.classList.remove('global-shopping-bg--hide');\n        }\n        __MT__.setCookie('cartBannerState', 'open');\n    }\n}\n\nwindow.__MT__.changeCountry = (obj) => {\n    obj.setCustomValidity(\"\");\n    window.__MT__.updateTotalPrice();\n}\n\nwindow.__MT__.disableCartButton = () => {\n    if (window.__MT__.cifo.length !== 0) {\n        return;\n    }\n    const btns = window.__MT__.shadow.querySelectorAll('.g-shopping-checkout__opt-container button.g-shopping-button--bg-blue');\n    btns.forEach((btn) => {\n        if (btn.classList.contains('g-shopping-button--bg-blue')) {\n            btn.classList.remove('g-shopping-button--bg-blue');\n            btn.classList.add('g-shopping-button--disabled');\n        }\n    });\n}\n\nwindow.__MT__.showTooltip = (btn, posi) => {\n    const tooltipTemplate = (content, posi) => `\n    <div class=\"g-shopping-tooltip ${posi === 'left' ? 'g-shopping-tooltip--left' : ''}\">\n        <div class=\"g-shopping-tooltip__text\">${content}</div>\n        <span class=\"g-shopping-tooltip__close\"></span>\n    </div>`;\n    \n    window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n\n    let content = btn.parentElement.querySelector(\".tooltip-content\") ||\n        [...btn.parentElement.children].find(el => el !== btn && el.classList.contains(\"tooltip-content\"));\n\n    if (!content) return;\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = tooltipTemplate(content.innerHTML, posi);\n    const tooltip = wrapper.firstElementChild;\n    window.__MT__.shadow.appendChild(tooltip);\n\n    const rect = btn.getBoundingClientRect();\n    tooltip.style.position = 'fixed';\n    tooltip.style.display = 'block';\n    tooltip.style.top = `${rect.bottom + 7}px`;\n    if (posi === 'left') {\n        tooltip.style.left = `${rect.left}px`;\n        tooltip.style.right = 'auto';\n    } else {\n        tooltip.style.left = 'auto';\n        tooltip.style.right = `${window.innerWidth - rect.right}px`;\n    }\n\n    tooltip.querySelector('.g-shopping-tooltip__close').onclick = () => tooltip.remove();\n    window.__MT__.shadow.querySelectorAll('.global-shopping-close').forEach(el => el.onclick = () => tooltip.remove());\n\n    const modalBody = window.__MT__.shadow.querySelectorAll(\".global-shopping-modal .global-shopping-modal__body\");\n    const onClickOutside = (e) => {\n        if (!tooltip.contains(e.target) && e.target !== btn) {\n            tooltip.remove();\n            removeOutsideListeners();\n        }\n    }\n    const addOutsideListeners = () => {\n        modalBody.forEach(modal => modal.addEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.addEventListener(ev, onClickOutside));\n    }\n    const removeOutsideListeners = () => {\n        modalBody.forEach(modal => modal.removeEventListener('scroll', onClickOutside));\n        ['touchstart', 'touchend'].forEach(ev => window.__MT__.shadow.removeEventListener(ev, onClickOutside));\n    }\n    setTimeout(addOutsideListeners, 0);\n\n    window.onresize = () => window.__MT__.shadow.querySelectorAll(\".g-shopping-tooltip\").forEach(tip => tip.remove());\n}\nwindow.__MT__.dropdownEvent = (item) => {\n    if (item.__mtDropdown && item.__mtDropdown.cleanup) {\n        item.__mtDropdown.cleanup();\n    }\n\n    (() => {\n        const preferredLanguage = window.__MT__.getCookie('preferredLanguage');\n        if (!preferredLanguage) return;\n\n        const items = item.querySelectorAll(\".g-shopping-dropdown__item\");\n        let defaultItem = null;\n\n        items.forEach(el => {\n            if (String(preferredLanguage).startsWith(String(el.dataset.value || ''))) {\n                el.classList.add(\"g-shopping-dropdown__item--selected\");\n                defaultItem = el;\n            } else {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            }\n        });\n\n        if (defaultItem) {\n            const current = item.querySelector(\".g-shopping-dropdown__selected\");\n            if (current) current.innerHTML = defaultItem.innerHTML;\n        }\n    })();\n\n    const onOutsideClick = (e) => {\n        if (!e.target.closest || !window.__MT__.shadow) return;\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        if (!e.target.closest(\".g-shopping-dropdown\")) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    const onItemClick = (e) => {\n        const current = item.querySelector(\".g-shopping-dropdown__selected\");\n        if (!current) return;\n\n        const allSelected = window.__MT__.shadow?.querySelectorAll(\".g-shopping-dropdown__selected\") || [];\n        const targetItem = e.target.closest?.(\".g-shopping-dropdown__item\");\n\n        if (targetItem) {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            current.innerHTML = targetItem.innerHTML;\n\n            item.querySelectorAll(\".g-shopping-dropdown__item\").forEach(el => {\n                el.classList.remove(\"g-shopping-dropdown__item--selected\");\n            });\n            targetItem.classList.add(\"g-shopping-dropdown__item--selected\");\n\n            window.__MT__.setCookie('preferredLanguage', targetItem.dataset.value || '');\n            if (window.__MT__.cartContainer?.remove) {\n                window.__MT__.cartContainer.remove();\n            }\n            cleanup();\n            window.__MT__.connectedWidget();\n            return;\n        }\n\n        const isActive = current.classList.contains(\"g-shopping-dropdown__selected--active\");\n        allSelected.forEach(el => el.classList.remove(\"g-shopping-dropdown__selected--active\"));\n\n        if (!isActive) {\n            current.classList.add(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.addEventListener(\"click\", onOutsideClick);\n        } else {\n            current.classList.remove(\"g-shopping-dropdown__selected--active\");\n            window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick);\n        }\n    };\n\n    item.addEventListener(\"click\", onItemClick, false);\n\n    const cleanup = () => {\n        try { item.removeEventListener(\"click\", onItemClick, false); } catch {}\n        try { window.__MT__.shadow?.removeEventListener(\"click\", onOutsideClick); } catch {}\n        if (item.__mtDropdown) {\n            item.__mtDropdown = null;\n            delete item.__mtDropdown;\n        }\n    }\n\n    item.__mtDropdown = { onItemClick, onOutsideClick, cleanup };\n};\n\n\nwindow.__MT__.tabEvent = clickedItem => {\n    clickedItem.addEventListener(\"click\", async (e) => {\n        await new Promise(resolve => {\n            window.__MT__.loadCartHistory(() => resolve());\n        });\n        window.__MT__.INPUT.history.render(window.__MT__.shadow.querySelector(\".g-shopping-history\"), window.__MT__.chis);\n\n        const tabName = clickedItem.getAttribute(\"data-tab-name\");\n    \n        clickedItem.closest(\".g-shopping-tabs\")\n            .querySelectorAll(\".g-shopping-tabs__item\")\n            .forEach((el) => {\n                el.classList.remove(\"g-shopping-tabs__item--active\");\n            });\n    \n        clickedItem.classList.add(\"g-shopping-tabs__item--active\");\n    \n        window.__MT__.shadow.querySelectorAll(\"[data-tab-section]\").forEach((section) => {\n            section.style.display = \"none\";\n        });\n    \n        const targetSection = window.__MT__.shadow.querySelector(\n            `[data-tab-section='${tabName}']`\n        );\n        if (targetSection) targetSection.style.display = \"block\";\n    })\n};\n\nwindow.__MT__.onready = (calltype = 0, context = window) =>{\n    window.__MT__.shadow = window.__MT__.MW.shadowRoot;\n    window.__MT__.cartContainer = window.__MT__.shadow.querySelector(\".g-shopping-banner__container\");\n    window.__MT__.cartMinimize = window.__MT__.shadow.querySelector(\".g-shopping-banner__minimize\");\n    window.__MT__.cartBg = window.__MT__.shadow.querySelector(\".global-shopping-bg\");\n\n    window.__MT__.initOptions(calltype);\n    window.__MT__.bindEvents();\n    window.__MT__.initCartBannerState();\n    window.__MT__.bindAccordionToggle();\n    window.__MT__.initCookiePreferences();\n    window.__MT__.updateCartCount();\n    if (window.__MT__.shadow.querySelector('[data-pay=\"total-krw\"]')) {\n        window.__MT__.updateTotalPrice();\n        window.__MT__.disableCartButton();\n    }\n\n    const tooltipButton = window.__MT__.shadow.querySelectorAll('.tooltip-button');\n    const tabs = window.__MT__.shadow.querySelectorAll(\".g-shopping-tabs .g-shopping-tabs__item\");\n    const dropdowns = window.__MT__.shadow.querySelector('.g-shopping-dropdown');\n\n    tooltipButton && tooltipButton.forEach(btn => {btn.onclick = () => window.__MT__.showTooltip(btn, btn.getAttribute('data-tooltip-posi'));});\n    tabs && tabs.forEach((item) => {window.__MT__.tabEvent(item);});\n    dropdowns && window.__MT__.dropdownEvent(dropdowns);\n}\n\nwindow.__MT__.toggleAccordion = async (btn, callback) => {\n    const accordion = window.__MT__.shadow.querySelector('.g-product-card__opt-accordion');\n    const container = accordion.querySelectorAll('.g-product-card__opt-container');\n    const isOpen = accordion.classList.toggle('g-product-card__opt-accordion--expand');\n    const spinnerTemplate = () => `<span class=\"g-product-card__opt-accordion-spinner\"></span>`;\n    if (isOpen) {\n        btn.disabled = true;\n        btn.innerHTML = spinnerTemplate();\n\n        if (!document.querySelector('#spinner-style')) {\n            const style = document.createElement('style');\n            style.id = 'spinner-style';\n            style.textContent = `@keyframes spin { to { transform: rotate(360deg); } }`;\n            window.__MT__.MW.shadowRoot.appendChild(style);\n        }\n        if (window.__MT__.pifo.length === 1) {\n            await new Promise(resolve => {\n                window.__MT__.fetchProductAddition(data => {\n                    window.__MT__.clearProductInfo(() => {\n                        window.__MT__.pifo = data;\n                        window.__MT__.saveProductInfo(() =>{\n                            resolve();\n                        });\n                    });\n                });\n            });\n        }\n        if (!container.length) {\n            await new Promise(resolve => {\n                window.__MT__.fetchHtmlContent('cart.add.addition', {\n                    callback: (htmlContent) => {\n                        accordion.appendChild(htmlContent);\n                        resolve();\n                    }\n                });\n            });\n            window.__MT__.onready(1);\n        }\n\n        btn.closest('div').remove();\n        callback && callback();\n    }\n}",
            "html": "<!-- 장바구니 배너-->\n<div class=\"g-shopping-banner g-shopping-banner g-shopping-cart-banner\">\n    <div class=\"g-shopping-banner__minimize\" v-click=\"openBanner()\">\n        <span class=\"cart-icon cart-icon--sm\"></span>\n        海外購物\n    </div>\n    <div class=\"g-shopping-banner__container\">\n        <button class=\"g-shopping-banner__button\" v-click=\"closeBanner()\">關閉<span class=\"arrow-bottom-white-icon\"></span></button>\n        <h2 class=\"global-shopping-title\">\n            <span class=\"global-shopping-logo\"></span> \n            Global Shopping\n            <div class=\"g-shopping-dropdown\">\n                <div class=\"g-shopping-dropdown__selected\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></div>\n                <ul class=\"g-shopping-dropdown__list\">\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"en\"><span></span><span class=\"g-shopping-dropdown__text\">EN</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ko\"><span></span><span class=\"g-shopping-dropdown__text\">KO</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"ja\"><span></span><span class=\"g-shopping-dropdown__text\">JP</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-CN\"><span></span><span class=\"g-shopping-dropdown__text\">简体</span></li>\n                    <li class=\"g-shopping-dropdown__item\" data-value=\"zh-TW\"><span></span><span class=\"g-shopping-dropdown__text\">繁體</span></li>\n                </ul>\n            </div>\n        </h2>\n        <h2 class=\"g-shopping-banner__title\">本商店由 Malltail Global Shopping 提供海外配送服務。</h2>\n        <div class=\"g-shopping-links\">\n            <a href=\"javascript:void(0)\" class=\"g-shopping-links__item\" v-click=\"openModal('usage.modal')\">使用說明</a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L29yZGVycy9pbmRleC9VU3JlcXVlc3RfYWxsL0FML0EvP2lzTG9naW49WQ==\" class=\"g-shopping-links__item\" target=\"_blank\"><b>訂單查詢</b></a>\n            <a href=\"https://post.malltail.com/global_shoppings/gate/L3BvbGljeXMvcG9saWN5X3ByaXZhY3kv\" class=\"g-shopping-links__item\" target=\"_blank\">個人資訊保護政策</a>\n        </div>\n        <div class=\"g-shopping-buttons g-shopping-banner__layout\">\n            \n            <button class=\"g-shopping-banner__cart-add g-shopping-button g-shopping-button--size-lg g-shopping-button--bg-blue\" v-click=\"openModal('cart.add', this)\">加入海外購物車</button>\n            \n            <button class=\"g-shopping-banner__cart-btn g-shopping-button g-shopping-button--size-sm g-shopping-button--bd-blue\" v-click=\"openModal('cart.list')\"><span class=\"cart-icon\"></span><span class=\"cart-count\">0</span></button>\n        </div>\n    </div>\n</div>"
          },
          "message": null
        }
      }
    ]
  },
  {
    "productCode": "1815229",
    "title": "에스에이엠지 미니특공대 6 패트롤 디바이스(44058)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 835,
    "wholesalePriceKRW": "34800",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001812.jpg?1753774693",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-124.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815229&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bm10W15C&et_job=et_1764122203014_2loah",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:47.467Z"
  },
  {
    "productCode": "1815070",
    "title": "에스에이엠지 미니특공대 제트캅(44065)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 432,
    "wholesalePriceKRW": "18000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001612.jpg?1753774694",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-101.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815070&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bm98W15D&et_job=et_1764122208000_silnk",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:52.469Z"
  },
  {
    "productCode": "1815066",
    "title": "에스에이엠지 미니특공대 대쉬캅(44089)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 432,
    "wholesalePriceKRW": "18000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001592.jpg?1753774694",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-103.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815066&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bG53U1Q%3D&et_job=et_1764122212997_bd22u",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:56:57.475Z"
  },
  {
    "productCode": "1815065",
    "title": "에스에이엠지 미니특공대 마린캅(44072)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 432,
    "wholesalePriceKRW": "18000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001582.jpg?1753774694",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-102.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815065&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=am13U1U%3D&et_job=et_1764122218005_su9ij",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:57:02.467Z"
  },
  {
    "productCode": "1815064",
    "title": "에스에이엠지 미니특공대 사이언캅(44096)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 432,
    "wholesalePriceKRW": "18000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001572.jpg?1753774694",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-104.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815064&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=bWp3Ulw%3D&et_job=et_1764122223002_m19bq",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:57:07.478Z"
  },
  {
    "productCode": "1815060",
    "title": "에스에이엠지 미니특공대 배틀캅(44102)",
    "wholesalePriceJPY": null,
    "wholesalePriceTWD": 432,
    "wholesalePriceKRW": "18000",
    "marketPrice": "",
    "priceSource": "krw",
    "images": [
      "https://www.toybox.kr/shopimages/toybox119/0010050001562.jpg?1753774694",
      "https://toytop.godohosting.com/koreatoys/SAMG/sa-105.jpg"
    ],
    "description": "",
    "url": "https://www.toybox.kr/shop/shopdetail.html?branduid=1815060&xcode=075&mcode=020&scode=&type=Y&sort=regdate&cur_code=075020&search=&GfDT=Z293Ul0%3D&et_job=et_1764122228011_0qwad",
    "categories": [],
    "attributes": {},
    "tableRows": [],
    "scrapedAt": "2025-11-26T01:57:12.481Z"
  }
]